​	sdk与云端交互过程，会将后端异常返回码记录下来，本文档主要描述各返回码状态，以及处理对策

### AIPM4

+ 参数错误
+ 描述：appkey信息非法或服务返回参数错误，代理返回-4
+ 处理对策：Appkey注册请到https://dingdang.qq.com/tvs申请设备接入。请检查sdk设置参数是否合理，sdk请参考https://dingdang.qq.com/doc/page/219。

### AIPM7

+ 调用超时
+ 描述：代理层调用语义理解服务超时，代理返回-7
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### AIP100

+ 登录校验失败
+ 描述：登录票据验证失败，代理返回100
+ 处理对策：
+ 	票据验证失败一般情况为票据已过期，可能情况为：
+ 	1、用户需要重新登录
+ 	2、票据在过期前没有做续期操作
+ 	其它情况请检查帐号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### AIP101

+ 帐号不存在
+ 描述：帐号不存在，代理返回101
+ 处理对策：登录帐号没有与设备绑定，请检查帐号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### AIP102

+ 设备验证失败
+ 描述：设备验证失败，代理返回102
+ 处理对策：设备没有注册，请检查账号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### ASRM1003

+ 音频解码失败
+ 描述：音频解码失败，ASR返回-1003
+ 处理对策：语音识别音频数据解码失败，请检查sdk接入逻辑，可参考：https://dingdang.qq.com/doc/page/322

### ASRM1005

+ 语音识别参数错误
+ 描述：代理层调用语音识别服务返回参数错误，ASR返回-1005
+ 处理对策：请检查sdk设置语音识别参数是否合理，sdk请参考https://dingdang.qq.com/doc/page/219

### TSKM100

+ 后端接口异常
+ 描述：调用接口出现异常，技能返回-100
+ 处理对策：调用技能内容提供方接口异常，短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM13

+ 设备未登记
+ 描述：设备未登记，技能返回-13
+ 处理对策：设备没有注册，请检查设备授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/248

### TSKM12

+ 协议解析失败
+ 描述：协议解析失败，技能返回-12
+ 处理对策：调用技能返回数据解析异常，短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM9

+ 调用es服务异常
+ 描述：调用es服务异常，技能返回-9
+ 处理对策：调用搜索服务出现异常，短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM8

+ 调用知识图谱服务异常
+ 描述：调用知识图谱服务异常，技能返回-8
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM7

+ 接口调用异常
+ 描述：调用技能服务接口异常，技能返回-7
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM6

+ 技能调用异常
+ 描述：调用技能服务接口异常，技能返回-6
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM5

+ 技能未上线
+ 描述：技能未上线，技能返回-5
+ 处理对策：请反馈给腾讯云小微做进一步问题定位

### TSKM4

+ 当前用户访问频率过大
+ 描述：当前用户访问频率过大，技能返回-4
+ 处理对策：检查GUID是否按设备生成，或者接口调用逻辑是否出现异常

### TSKM3

+ Cache访问异常
+ 描述：Cache访问异常，技能返回-3
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM2

+ DB访问异常
+ 描述：DB访问异常，技能返回-2
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKM1

+ 业务逻辑异常
+ 描述：业务逻辑异常，技能返回-1
+ 处理对策：请检查技能接入流程，可参考：https://dingdang.qq.com/doc/page/294

### TSK1

+ 无数据返回
+ 描述：列表无数据或资源库没有找到所需要的数据，技能返回1
+ 处理对策：比如播放XX歌手的歌，曲库里并没有这个歌手，可参考技能接入流程：https://dingdang.qq.com/doc/page/294

### TSK2

+ 无登录或登录已过期
+ 描述：无登录或登录已过期，技能返回2
+ 处理对策：
+ 	票据验证失败一般情况为票据已过期，可能情况为：
+ 	1、用户需要重新登录
+ 	2、票据在过期前没有做续期操作
+ 	其它情况请检查帐号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### TSK3

+ 参数非法
+ 描述：参数非法，技能返回3
+ 处理对策：
+ 	必要参数没有提取到，一般常见于UniAcess接口：https://dingdang.qq.com/doc/page/344

### TSK4

+ 功能暂未支持
+ 描述：功能暂未支持，技能返回4
+ 处理对策：
+ 	常见为未支持的意图或未支持的实体参数查询等，比如查询国外非主流城市的天气查询，具体可参考技能接入流程：https://dingdang.qq.com/doc/page/294。

### TSK5
+ 没有权限访问
+ 描述：没有权限访问，技能返回5
+ 处理对策：
+ 	有验证权限要求，具体根据接口或技能文档说明来进一步定位

### TSK6

+ 请求内容需要付费
+ 描述：请求内容需要付费，技能返回6
+ 处理对策：
+ 	请求内容需要付费，可参考接入支付流程：https://docs.qq.com/doc/DQkZzaUxzbWFvaFhm

### TSK7

+ 支付失败
+ 描述：支付失败，技能返回7
+ 处理对策：
+ 	用户未支付或扣款失败

### TSK8

+ 重定向
+ 描述：重定向，技能返回8
+ 处理对策：
+ 	重定向如需要技能拉取更多数据

### TSK9

+ 登录态失效
+ 描述：登录态失效，技能返回9
+ 处理对策：
+ 	票据验证失败一般情况为票据已过期，可能情况为：
+ 	1、用户需要重新登录
+ 	2、票据在过期前没有做续期操作
+ 	其它情况请检查帐号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### TSK10

+ 此操作需要CP授权
+ 描述：此操作需要CP授权，技能返回10
+ 处理对策：
+ 	此操作需要CP授权，请确认自定义技能接入：https://dingdang.qq.com/doc/page/88

### TSK11

+ 数据涉及敏感信息被过滤
+ 描述：数据涉及敏感信息被过滤，技能返回11
+ 处理对策：
+ 	涉敏感情况，如果是自建技能，请检查提供的内容是否合法合规

### NLPM7

+ 语义接口调用异常
+ 描述：语义接口调用异常，语义返回-7
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### ASRM7

+ 语音识别接口调用异常
+ 描述：语义接口调用异常，语音识别返回-7
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TTSM7

+ 语音合成接口调用异常
+ 描述：语义接口调用异常，语音合成返回-7
+ 处理对策：短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### TSKmusic102

+ 设备验证失败
+ 描述：设备验证失败，音乐技能返回102
+ 处理对策：设备没有注册，请检查账号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296


### asrm4

+ 设备验证失败
+ 描述：设备验证失败，音乐技能返回102
+ 处理对策：设备没有注册，请检查账号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296

### asrm4

+ Appkey非法
+ 描述：Appkey没有注册或参数设置校验不通过，asr返回-4
+ 处理对策：Appkey没有注册，请到https://dingdang.qq.com/tvs申请设备接入

### ttsm4

+ 主动拒绝服务
+ 描述：主动拒绝服务，tts返回-4
+ 处理对策：系统出现过载情况，主动拒绝服务，短时间出现必现问题可反馈给腾讯云小微做进一步问题定位

### tts2

+ 参数错误
+ 描述：语音合成参数错误，tts返回2
+ 处理对策：请检查sdk设置语音合成参数是否合理，sdk请参考https://dingdang.qq.com/doc/page/219

### aip1102

+ 设备验证失败
+ 描述：设备验证失败，代理返回1102
+ 处理对策：设备没有注册，请检查账号授权接入流程是否合理，可参考：https://dingdang.qq.com/doc/page/296
